\* Model checker configuration for LockstepNetwork.tla
\* Lockstep + message loss + simplified election + state sync
\* Target: ~5-50M states
\* Usage: ./run_tlc.sh LockstepNetwork

CONSTANT Peer = {p1, p2, p3}
CONSTANT MaxFrame = 3
CONSTANT MaxMessages = 6
CONSTANT InitialLeader = p1

\* Symmetry reduction (excludes InitialLeader since it's distinguished)
SYMMETRY PeerSymmetry

\* Safety invariants - the meaningful ones
INVARIANT TypeInvariant
INVARIANT FrameBoundedDrift
INVARIANT LeaderIsActive
INVARIANT LeaderUpToDate
INVARIANT NeedsSyncHasNoInputs
INVARIANT ActiveHasOwnInput
INVARIANT MessagesValid

\* Liveness (optional - disable symmetry first)
\* PROPERTY EventualProgress
\* PROPERTY SyncEventuallyCompletes

CONSTRAINT MCStateConstraint

CHECK_DEADLOCK FALSE
SPECIFICATION Spec
