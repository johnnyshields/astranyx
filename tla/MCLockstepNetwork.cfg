\* Model checker configuration for LockstepNetwork.tla
\* Combined protocol + network model
\* Target: ~20-50M states (10-30 minute run)
\*
\* Recommended: Start with small constants, increase if tractable

CONSTANT Peer = {1, 2, 3}
CONSTANT MaxFrame = 2
CONSTANT MaxTerm = 2
CONSTANT MaxEvents = 1
CONSTANT MaxMessages = 20

\* Safety invariants - Election
INVARIANT NoTwoLeadersInSameTerm
INVARIANT CandidateVotedForSelf
INVARIANT LeaderVotedForSelf
INVARIANT VotedForValid
INVARIANT VotesFromValidPeers
INVARIANT LeaderHadMajority

\* Safety invariants - Lockstep
INVARIANT FrameBoundedDrift
INVARIANT InputsFromValidPeers

\* Safety invariants - State Sync
INVARIANT SyncTermBounded
INVARIANT LocalEventsPreserved
INVARIANT LeaderUpToDate

\* Safety invariants - Network
INVARIANT MessagesValid
INVARIANT NoSelfPartition

\* Safety invariants - Types
INVARIANT TypeInvariant

\* Liveness properties (optional - slower)
\* Uncomment to check progress guarantees:
\* PROPERTY EventuallyLeader
\* PROPERTY DesyncEventuallyCorrected
\* PROPERTY PartitionsEventuallyHeal

CONSTRAINT StateConstraint

CHECK_DEADLOCK FALSE
SPECIFICATION Spec
