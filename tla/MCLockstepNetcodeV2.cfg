\* Model checker configuration for LockstepNetcode.tla
\* Run with: ./run-tlc.sh

CONSTANT Peer = {1, 2, 3}
CONSTANT MaxFrame = 2
CONSTANT MaxTerm = 2
CONSTANT MaxEvents = 2

\* Safety invariants
INVARIANT NoTwoLeadersInSameTerm
INVARIANT FrameBoundedDrift
INVARIANT TypeInvariant
INVARIANT LeaderUpToDate
INVARIANT LocalEventsPreserved

\* Liveness
PROPERTY EventuallyLeader

CONSTRAINT
    /\ \A p \in Peer : frame[p] <= MaxFrame
    /\ \A p \in Peer : currentTerm[p] <= MaxTerm
    /\ \A p \in Peer : Cardinality(pendingEvents[p]) <= MaxEvents

CHECK_DEADLOCK FALSE
SPECIFICATION Spec
